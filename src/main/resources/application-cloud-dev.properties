# properties
spring.application.name=${SPRING_APPLICATION_NAME:foodora-backend}

# Server port (z.\ B. Fly: PORT)
server.port=${PORT:8080}
server.address=0.0.0.0

# Datei: src/main/resources/application-cloud-dev.properties
# Datasource (Pooler / Supabase session pooler - JDBC format empfohlen)
# Setze in der Cloud am besten ein Secret: JDBC_DATABASE_URL=jdbc:postgresql://<pooler-host>:5432/<db>?sslmode=require
spring.datasource.url=${JDBC_DATABASE_URL:jdbc:postgresql://aws-1-eu-west-1.pooler.supabase.com:5432/postgres?sslmode=require}
spring.datasource.username=${DATABASE_USERNAME:postgres.epjhiopsepzutyaggbmb}
spring.datasource.password=${DATABASE_PASSWORD:F8_r4iQJY55*Lnp}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP (empfohlen für Produktionsumgebungen / Fly)
spring.datasource.hikari.pool-name=HikariPool
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:2}
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME:1800000}
spring.datasource.hikari.connection-test-query=SELECT 1

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:none}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_FORMAT_SQL:true}
spring.jpa.database=${SPRING_JPA_DATABASE:postgresql}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.properties.javax.persistence.schema-generation.scripts.action=none

# Logging
logging.level.org.springframework.security=${LOGGING_LEVEL_SPRING_SECURITY:TRACE}

# Application specific
backend.notification.base-url=${BACKEND_NOTIFICATION_BASE_URL:http://localhost:3000}
